/*! bindux v0.0.1-alpha | MIT (c) 2014 Nicolas Tallefourtane - http://bindux.com */!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(){i.call(this)}var o,i;i=n(11),r.prototype=Object.create(i.prototype,{constructor:{value:r}}),o=new r,o.opt={binder:{prefix:"n-"}},o.scopes={},o.ctrls={},o.binderAttr=function(e){return o.opt.binder.prefix+e},o.noConflict=function(){return delete window.ux,delete window.bindux,o},n(1)(o),n(2)(o),n(3)(o),n(4)(o),n(5)(o),n(6)(o),n(7)(o),n(8)(o),n(9)(o),n(10)(o),e.exports=window.ux=window.bindux=o},function(e){"use strict";e.exports=function(e){e.is={undef:function(e){return void 0===e},fn:function(e){return"function"==typeof e},obj:function(e){return e&&"object"==typeof e},array:function(e){return Array.isArray(e)},str:function(e){return"string"==typeof e},num:function(e){return"number"==typeof e},bool:function(e){return"boolean"==typeof e},query:function(t){return t instanceof e.Query&&this.num(t._uid)},desktop:function(){var e=navigator.userAgent.toLowerCase();return-1===e.indexOf("mobile")&&-1===e.indexOf("phone")&&"undefined"==typeof window.orientation},mobile:function(){var e=navigator.userAgent.toLowerCase();return"undefined"!=typeof window.orientation||-1!==e.indexOf("mobile")||-1!==e.indexOf("phone")},node:function(e){return this.obj(Node)?e instanceof Node:e&&this.obj(e)&&this.num(e.nodeType)&&0!==e.nodeType&&this.str(e.nodeName)},el:function(e){return this.obj(HTMLElement)?e instanceof HTMLElement:e&&this.obj(e)&&null!==e&&1===e.nodeType&&this.str(e.nodeName)},valid:function(e,t,n){if(this[e](t))return t;throw n=n||"The given value is not valid",new TypeError(n)}}}},function(e){"use strict";e.exports=function(e){e.color={names:{aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"},toRgb:function(t,n){return t="0x"+this.toHex(t).substring(1),t=[t>>16&255,t>>8&255,255&t],e.is.undef(n)||t.push(n),"rgb("+t.join(",")+")"},toHex:function(t){var n,r,o,i;if(r=0,o=t?t.toString().toLowerCase():"",/^#[a-f0-9]{3,6}$/.test(o))return o.length<7&&(i=o.split(""),o=i[0]+i[1]+i[1]+i[2]+i[2]+i[3]+i[3]),o;if(/^[a-z]+$/.test(o))return this.names[o]||"";if(o=o.match(/\d+(\.\d+)?%?/g)||[],o.length<3)return"";for(o=o.slice(0,3);3>r;)n=-1!=o[r].indexOf("%")?Math.round(2.55*parseFloat(o[r])):parseInt(o[r]),0>n||n>255?o.length=0:o[r++]=e.util.padLeft(n.toString(16),2);return 3==o.length?"#"+o.join("").toLowerCase():""}}}},function(e){"use strict";e.exports=function(e){e.expr={parser:function(e){return this.parsers[e]},parsers:{pipe:function(t,n,r){var o,i,s;return s="",r&&r.filter&&(i=r.filter),-1!==t.indexOf("|")&&(s=t.split("|"),t=s.shift()),-1===t.indexOf(".")?e.filter(n[t],s,i):(o=t.split("."),e.filter(e.util.propPath(n,o),s,i))}},parse:function(t,n,r){void 0===t&&(t=""),void 0===r&&(r={});var o,i,s;if(o=r.only,i=r,o){if(e.is.str(o))return this.parsers[o](t,n,i);s=o.length;for(var a=0;s>a;a++)t=this.parsers[o[a]](t,n,i);return t}for(var u in this.parsers)t=this.parsers[u](t,n,i);return t}}}},function(e){"use strict";var t=function(e,t,n){t&&Object.defineProperties(e,t),n&&Object.defineProperties(e.prototype,n)},n=-1,r=new WeakMap;e.exports=function(e){function o(e,t,n){return void 0===t&&(t=NodeFilter.SHOW_ALL),function(){var r,o,i;for(r=document.createTreeWalker(e,t,n),o=[];i=r.nextNode();)o.push(i);return o}()}function i(e){var t=document.createElement("script");t.text=e,document.head.appendChild(t).parentNode.removeChild(t)}function s(t){var n,r,o;return r=t.el.opt||{},t.ctx=t.ctx||{},t.obj.obj=t.obj.obj||{},n=e.is.undef,r.attributes=n(r.attributes)?!1:r.attributes,r.childList=n(r.childList)?!0:r.childList,r.characterData=n(r.characterData)?!1:r.characterData,Object.observe(t.obj.obj,function(e){return t.obj.observer(e,{el:t.el.el,elObs:o,ctx:t.ctx})}),o=new MutationObserver(function(e,n){return t.el.observer(e,n,{obj:t.obj.obj,ctx:t.ctx})}).observe(t.el,r)}var a=e.is,u=function(){var o=function(e,t){var r=this;return void 0===t&&(t=document),function(){n++,r.engine=window.Sizzle||function(e){return r.select(e).nodes},r.el=t,r.nodes,Object.defineProperty(r,"_uid",{enumerable:!0,configurable:!1,writable:!1,value:n}),e&&(a.node(e)?(r.el=e,r.nodes=[e]):r.find(e))}()};return t(o,null,{selectOne:{writable:!0,value:function(e){return this.nodes=[this.el.querySelector(e)],this}},select:{writable:!0,value:function(t){return this.nodes=e.util.toArray(this.el.querySelectorAll(t)),this}},selectById:{writable:!0,value:function(e){return this.nodes=[this.el.getElementById(e)],this}},selectByClass:{writable:!0,value:function(t){return this.nodes=e.util.toArray(this.el.getElementsByClassName(t)),this}},selectByTag:{writable:!0,value:function(t){return this.nodes=e.util.toArray(this.el.getElementsByTagName(t)),this}},selectByName:{writable:!0,value:function(t){return this.nodes=e.util.toArray(this.el.getElementsByName(t)),this}},findOne:{writable:!0,value:function(e){return this.find(e),this.nodes=this.nodes.length>1?this.nodes.slice(0,1):[],this}},find:{writable:!0,value:function(e){return this.nodes=this.engine(e,this.el),this}},get:{writable:!0,value:function(e){return void 0===e&&(e=0),this.nodes[e]}},resolve:{writable:!0,value:function(e,t){void 0===t&&(t=1);for(var n,r=[],o=this.nodes.length,i=0;o>i;i++)for(n=this.nodes[i][e];n;)n&&n!==r[r.length-1]&&1===n.nodeType&&(r.push(n),-1===t||t>1?(n=n[e],t>1&&t--):n=null);return this.nodes=r,this}},first:{writable:!0,value:function(){return this.nodes=this.nodes?this.nodes.slice(0,1):[],this}},last:{writable:!0,value:function(){return this.nodes=this.nodes.length>1?this.nodes.slice(-1):[],this}},prev:{writable:!0,value:function(){return this.resolve("previousElementSibling")}},prevAll:{writable:!0,value:function(){return this.resolve("previousElementSibling",-1)}},next:{writable:!0,value:function(){return this.resolve("nextElementSibling")}},nextAll:{writable:!0,value:function(){return this.resolve("nextElementSibling",-1)}},children:{writable:!0,value:function(){var e,t,n;n=[];for(var r=0,o=this.nodes.length;o>r;r++)if(t=this.nodes[r].children,t&&11!==t.nodeType){e=t.length;for(var i=0;e>i;i++)n.push(t[i])}return this.nodes=n,this}},parent:{writable:!0,value:function(){for(var e,t=0,n=this.nodes.length;n>t;t++)e=this.nodes[t].parentNode,this.nodes[t]=e&&11!==e.nodeType?e:null;return this}},findParent:{writable:!0,value:function(e){return this.findParents(e,!1)}},findParents:{writable:!0,value:function(t,n){void 0===n&&(n=!0);var r,o,i=[];a.str(t)?t=e.dom(t).nodes:t||(r=!0);for(var s=0,u=this.nodes.length;u>s;s++)for(o=this.nodes[s].parentNode;o;)if(o&&11!==o.nodeType){if(r){if(t=null,r=o,!r||11===r.nodeType){r=!0;continue}t=[r]}if(t&&-1===i.indexOf(o)&&-1!==t.indexOf(o)&&(i.push(o),!n))break;o=o.parentNode}return this.nodes=i,this}},each:{writable:!0,value:function(e){for(var t=0,n=this.nodes.length;n>t&&e.call(this.nodes[t],this.el,t)!==!1;t++);return this}},css:{writable:!0,value:function(e,t){var n;if(a.obj(e)){for(var o in e)this.css(o,e[o]);return this}if(a.undef(t))return this.nodes[0]?this.nodes[0].style[e]||window.getComputedStyle(this.nodes[0],null).getPropertyValue(e):void 0;if(n=this.nodes.length,"display"===e){for(var i=0;n>i;i++)r.set(this.nodes[i],{lastDisplay:this.nodes[i].style.display}),this.nodes[i].style.display=t;return this}for(var i=0;n>i;i++)this.nodes[i].style[e]=t;return this}},hasClass:{writable:!0,value:function(e){for(var t=0,n=this.nodes.length;n>t;t++)if(this.nodes[t].classList.contains(e))return!0;return!1}},addClass:{writable:!0,value:function(e){for(var t=0,n=this.nodes.length;n>t;t++)this.nodes[t].classList.add(e);return this}},removeClass:{writable:!0,value:function(e){for(var t=0,n=this.nodes.length;n>t;t++)this.nodes[t].classList.remove(e);return this}},toggleClass:{writable:!0,value:function(e){for(var t=0,n=this.nodes.length;n>t;t++)this.nodes[t].classList.toggle(e);return this}},hide:{writable:!0,value:function(){for(var e=0,t=this.nodes.length;t>e;e++)r.has(this.nodes[e])?r.get(this.nodes[e]).oldDisplay=this.nodes[e].style.display:r.set(this.nodes[e],{oldDisplay:this.nodes[e].style.display}),this.nodes[e].style.display="none";return this}},show:{writable:!0,value:function(){for(var e,t=0,n=this.nodes.length;n>t;t++)e="",r.has(this.nodes[t])&&(e=r.get(this.nodes[t]).oldDisplay||e),this.nodes[t].style.display=e;return this}},attr:{writable:!0,value:function(e,t){var n;if(a.undef(t)){var r=this.nodes[0].attributes;if(n=r.length,e){for(var o=0;n>o;o++)if(e==r[o].nodeName)return r[o].value;return void 0}for(var i={},o=0;n>o;o++)i[r[o].nodeName]=r[o].value;return i}n=this.nodes.length;for(var o=0;n>o;o++)this.nodes[o].setAttribute(e,t);return this}},text:{writable:!0,value:function(e){var t="",n=this.nodes.length;if(a.undef(e)){for(var r=0;n>r;r++)t+=this.nodes[r].textContent;return t}for(var r=0;n>r;r++)this.nodes[r].textContent=e;return this}},html:{writable:!0,value:function(e){var t="",n=this.nodes.length;if(a.undef(e)){for(var r=0;n>r;r++)t+=this.nodes[r].innerHTML;return t}for(var r=0;n>r;r++)this.nodes[r].innerHTML=e;return this}},prepend:{writable:!0,value:function(e){for(var t=0,n=this.nodes.length;n>t;t++)this.nodes[t].insertAdjacentHTML("afterbegin",e);return this}},prependText:{writable:!0,value:function(e){return this.prependChild(document.createTextNode(e))}},prependChild:{writable:!0,value:function(e){for(var t,n=0,r=this.nodes.length;r>n;n++)t=this.nodes[n].nodeType,(1===t||11===t||9===t)&&this.nodes[n].insertBefore(e.cloneNode(!0),this.nodes[n].firstChild);return this}},append:{writable:!0,value:function(e){for(var t=0,n=this.nodes.length;n>t;t++)this.nodes[t].insertAdjacentHTML("beforeend",e);return this}},appendText:{writable:!0,value:function(e){return this.appendChild(document.createTextNode(e))}},appendChild:{writable:!0,value:function(e){for(var t,n=0,r=this.nodes.length;r>n;n++)t=this.nodes[n].nodeType,(1===t||11===t||9===t)&&this.nodes[n].appendChild(e.cloneNode(!0));return this}},insertBefore:{writable:!0,value:function(e){for(var t=0,n=this.nodes.length;n>t;t++)this.nodes[t].insertAdjacentHTML("beforebegin",e);return this}},insertAfter:{writable:!0,value:function(e){for(var t=0,n=this.nodes.length;n>t;t++)this.nodes[t].insertAdjacentHTML("afterend",e);return this}},empty:{writable:!0,value:function(){for(var e,t=0,n=this.nodes.length;n>t;t++)e=document.createRange(),e.selectNodeContents(this.nodes[t]),e.deleteContents();return this}},remove:{writable:!0,value:function(){for(var e=0,t=this.nodes.length;t>e;e++)this.nodes[e].remove();return this}},replaceWith:{writable:!0,value:function(t){a.str(t)&&(t=e.html.toNode(t));for(var n=0,r=this.nodes.length;r>n;n++)this.nodes[n].parentNode.replaceChild(t.cloneNode(!0),this.nodes[n]);return this}},on:{writable:!0,value:function(e,t,n){void 0===n&&(n=!1);var r=this.nodes.length;if(r)for(var o=0;r>o;o++)this.nodes[o].addEventListener(e,t,n);return this}},off:{writable:!0,value:function(e,t,n){void 0===n&&(n=!1);var r=this.nodes.length;if(r)for(var o=0;r>o;o++)this.nodes[o].removeEventListener(e,t,n);return this}},trigger:{writable:!0,value:function(e,t){var n=this.nodes.length;if(n){a.str(e)&&(e=new Event(e));for(var r=0;n>r;r++)this.nodes[r].dispatchEvent(e,t);return this}}}}),o}();e.Query=u,document.querySelector||(e.Query.prototype.select=e.Query.prototype.findOne),document.querySelectorAll||(e.Query.prototype.selectAll=e.Query.prototype.find),e.dom=function(t,n){return new e.Query(t,n)},e.dom.traverse=o,e.dom.observe=s,e.dom.globalExec=i,e.dom.onLoaded=function(e,t){return void 0===t&&(t=!1),document.addEventListener("DOMContentLoaded",e,t)}}},function(e,t,n){"use strict";e.exports=function(e){e.filters={uc:function(e){return e+="",e.toUpperCase()},ucFirst:function(e){return e+="",e.charAt(0).toUpperCase()+e.substr(1)},lc:function(e){return e+="",e.toLowerCase()},lcFirst:function(e){return e+="",e.charAt(0).toLowerCase()+e.substr(1)},rmSpace:function(e){return e.split(" ").join("")}},e.filter=function(t,n,r){if(e.is.fn(t)&&r&&r.resolveFn&&(t=t.call(r.bind?r.bind:null,r.args?r.args:[])),!n)return t;e.is.array(n)||(n=n.split("|"));for(var o=0,i=n.length;i>o;o++)t=e.filters[n[o].trim()](t);return t},n(12)(e)}},function(e){"use strict";e.exports=function(e){e.opt.deprecation=!0,e.opt.throwDeprecation=!1,e.util={rx:{firstHtmlTag:/<[\n\r ]*([a-z0-9\-_]+)/im},each:function(e,t,n){for(var r,o=0;r=obj[o];)t.call(n,r,o,obj),o++},merge:function(e,t){var n=arguments.length;if(2>n)throw new Error("There should be at least 2 arguments passed to ux.util.merge()");for(var r=1;n>r;r++)if(e&&t)for(var o in t)e[o]=e[o]=arguments[r][o];return e},mergeRecursive:function(e){var t=arguments.length;if(2>t)throw new Error("There should be at least 2 arguments passed to ux.util.mergeRecursive()");for(var n=1;t>n;n++)for(var r in arguments[n])e[r]=e[r]&&"object"==typeof e[r]?this.mergeRecursive(e[r],arguments[n][r]):arguments[n][r];return e},grep:function(e,t,n){var r,o,i,s;r=[],i=!n;for(var a=0,o=e.length;o>a;a++)s=!t(e[a],a),s!==i&&r.push(e[a]);return r},propPath:function(t,n,r){var o,i,s;for(o=e.is.array(n)?n:n.split("."),i=o.pop().trim();s=o.shift();){if(void 0===t[s])return t[s];t=t[s]}return r?t[i]=r:t[i]},deprecate:function(t,n,r){function o(){if(!i&&e.opt.deprecation){if(e.opt.throwDeprecation)throw new Error(n);console.error(n),i=!0}return t.apply(r,arguments)}void 0===n&&(n=""),void 0===r&&(r=null);var i;return o},padLeft:function(e,t,n){for(void 0===t&&(t=2),void 0===n&&(n="0");e.length<t;)e=n+e;return e},toArray:function(e){return Array.prototype.slice.call(e,0)}}}},function(e){"use strict";e.exports=function(e){e.html={getFirstTag:function(t){var n;return-1===t.indexOf("<")?null:(n=t.match(e.util.rx.firstHtmlTag),n?n[1].trim().toLowerCase():null)},getAttrs:function(e){var t,n,r,o,i,s,a;for(r=/^<\w+\b(?:\s+[\w\-.:]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[\w\-.:]+))?)*\s*\/?>/,o=e.match(r),o=o?o[0]:"",i=/\s+([\w\-.:]+)(\s*=\s*(?:"([^"]*)"|'([^']*)'|([\w\-.:]+)))?/g,s=i.exec(o),a={};s;)t=s[1],n=s[1],s[2]&&(n=s[3]?s[3]:s[4]?s[4]:s[5]),a[t]=n,s=i.exec(o);return a},toNode:function(e){var t=document.createElement("div");return t.insertAdjacentHTML("beforeend",e),t=t.lastChild},stripTags:function(e,t){var n,r;return n=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,r=/<!--[\s\S]*?-->/gi,t=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join(""),e.replace(r,"").replace(n,function(e,n){return t.indexOf("<"+n.toLowerCase()+">")>-1?e:""})}}}},function(e){"use strict";e.exports=function(e){e.nodeMaps=new WeakMap,e.nodeMaps.addOnce=function(e){return this.has(e.node)?this:(e.binders||(e.binders={}),this.set(e.node,e))},e.nodeMaps.setBinder=function(e,t,n){return this.get(e).binders[t.name]={binder:t,expr:n},this}}},function(e,t,n){"use strict";e.exports=function(e){e.binders={scope:n(13)(e)},e.binders.ctrl=n(14)(e),e.binders.each=n(15)(e),e.binders.el=n(16)(e),e.binders.text=n(17)(e),e.binders.html=n(18)(e),e.binders.on=n(19)(e)}},function(e){"use strict";e.exports=function(e){e.init=function(){var t=function(t){e.on("preLoad",function(t){return e.emit("load",t)}),e.on("load",function(t){return e.emit("postLoad",t)}),e.emit("preLoad",t)};e.dom.onLoaded(function(){var n;for(var r in e.binders)n=e.binders[r],"function"==typeof n.init&&(n.init(),n.init=!0);t(document),e.init=!0})}}},function(e){"use strict";!function(){function t(){this.events={}}t.prototype.on=function(e,t,n){return this.events[e]||(this.events[e]=[]),n&&(t._E_ctx=n),this.events[e].push(t),this},t.prototype.once=function(e,t,n){return t._E_once=!0,this.on(e,t,n)},t.prototype.emit=function(e,t,n,r,o){var i,s,a,u;if(!this.events[e])return!1;a=Array.prototype.slice.call(arguments,1),u=a.length,s=this.events[e];for(var d=0,l=s.length;l>d;d++)i=s[d],i._E_once&&this.off(e,i),0===u?i.call(i._E_ctx):1===u?i.call(i._E_ctx,t):2===u?i.call(i._E_ctx,t,n):3===u?i.call(i._E_ctx,t,n,r):4===u?i.call(i._E_ctx,t,n,r,o):i.apply(i._E_ctx,a);return!0},t.prototype.off=function(e,t){if(!this.events[e])return this;for(var n=0,r=this.events[e].length;r>n;n++)this.events[e][n]===t&&(this.events[e][n]=null,delete this.events[e][n]);return this.events[e]=this.events[e].filter(function(e){return"undefined"!=typeof e}),this},t.prototype.listeners=function(e){var t,n;if(e)return this.events[e]||[];t=this.events,n=[];for(var r in t)n=n.concat(t[r].valueOf());return n},"undefined"!=typeof e&&e.exports?e.exports=t:window.Evemit=t}()},function(e){"use strict";function t(e){return e=null==e?"":String(e),e&&(o.lastIndex=0,o.test(e))?e.replace(o,function(e){return i[e]}):e}function n(e){return e=null==e?"":String(e),e&&(r.lastIndex=0,r.test(e))?e.replace(r,function(e){return s[e]}):e}var r,o,i,s;r=/&(?:amp|lt|gt|quot|#39|#96);/g,o=/[&<>"'`]/g,i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},s={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},e.exports=function(e){e.filters.e=e.filters.escape=t,e.filters.unescape=n}},function(e){"use strict";e.exports=function(e){var t,n,r;return n={},r=function(t,n,r){return r&&(t=t===document?e.dom(null,t):e.dom(t),n.nodes=t.select("["+n.attr+"]").nodes),n.nodes},t={getNodes:function(e,t){return r(e,this,t)},nodes:[],build:function(t,n){var r,o,i,s,a,u;o=this.getNodes(t,!0),a=o.length,u=function(e,t,n,r){if(!t)throw new ReferenceError("Scope not found for the binder "+r+'="'+n+'" (node #'+e+")")};for(var d=0;a>d;d++)r=o[d].getAttribute(this.attr),s=o[d].getAttribute("n-scope"),s?(i=o[d],u(d,i,r,this.attr)):(i=e.dom(o[d]).findParent("[n-scope]").nodes[0],u(d,i,r,this.attr),s=i.getAttribute("n-scope")),n({node:o[d],expr:r,scopeName:s,nodeScope:i})},init:function(){var t=this;this.preLoad&&e.on("preLoad",function(e){return t.preLoad(e)},this),this.load&&e.on("load",function(e){return t.load(e)},this),this.postLoad&&e.on("postLoad",function(e){return t.postLoad(e)},this)},load:function(t){var n=this;this.build(t,function(t){e.nodeMaps.addOnce({node:t.node,nodeScope:t.nodeScope,scopeName:t.scopeName}),e.nodeMaps.setBinder(t.node,n,t.expr),n.onScopeChanges&&e.on("scopes."+t.scopeName+".changes",function(e){return n.onScopeChanges(t.node,e)},n)})},onScopeChanges:function(t,n){var r=e.nodeMaps.get(t);this.nodeUpdate(r.node,e.scopes[r.scopeName],r.binders[this.name].expr,n)}},Object.defineProperty(t,"attr",{get:function(){return e.binderAttr(this.name)}}),{proto:t,name:"scope",attr:e.opt.binder.prefix+"scope",getNodes:function(e,t){return r(e,this,t)},init:function(){var t=this;e.on("load",function(e){return t.load(e)},this),e.on("postLoad",function(){return t.postLoad()},this)},load:function(t){var n,r;r=this.getNodes(t,!0);for(var o=0,i=r.length;i>o;o++)n=r[o].getAttribute(this.attr),e.scopes[n]||(e.scopes[n]={})},postLoad:function(){for(var t in e.scopes)n[t]!==!0&&(Object.observe(e.scopes[t],function(n){return e.emit("scopes."+t+".changes",n)}),n[t]=!0)}}}},function(e){"use strict";e.exports=function(e){var t=e.binders.scope.proto;return{name:"ctrl",attr:e.opt.binder.prefix+"ctrl",getNodes:t.getNodes,init:function(){var t=this;e.on("preLoad",function(e){return t.preLoad(e)},this),e.on("postLoad",function(){return t.postLoad()},this)},preLoad:function(t){var n,r,o,i;r=this.getNodes(t,!0),i=r.length;for(var s=0;i>s;s++)o=r[s],n=o.getAttribute(this.attr),o.getAttribute("n-scope")||o.setAttribute("n-scope",n),e.ctrls[n]={node:o,ctrl:e.ctrls[n]},e.emit("ctrls."+n+".preLoaded")},postLoad:function(){for(var t in e.ctrls)e.emit("ctrls."+t+".preBoot"),e.ctrls[t].ctrl=new e.ctrls[t].ctrl(e.scopes[t],e.ctrls[t].node),e.emit("ctrls."+t+".postBoot")}}}},function(e){"use strict";e.exports=function(e){var t=[];return{__proto__:e.binders.scope.proto,name:"each",init:function(){var t=this;e.on("load",function(e){return t.load(e)},this),e.on("postLoad",function(e){return t.postLoad(e)},this)},load:function(t){var n=this;this.build(t,function(t){var r,o,i,s,a,u,d;e.nodeMaps.addOnce({node:t.node,nodeScope:t.nodeScope,scopeName:t.scopeName}),e.nodeMaps.setBinder(t.node,n,t.expr),r=e.nodeMaps.get(t.node),o=r.binders[n.name],i=o.expr,s=i.split(" "),u=s.shift().trim(),d=s.pop().trim(),a=t.scopeName,o.propName=d,o.vpropName=u,o.contents=r.node.cloneNode(!0),e.on("binders.each.scopes."+a+"."+d+".changes",function(){return n.resolveNodeContents(r)}),e.on("scopes."+t.scopeName+".changes",function(e){e.forEach(function(e){"update"===e.type&&e.name===o.propName&&e.oldValue&&n.resolveNodeContents(r)})},n)})},postLoad:function(){var n,r,o,i,s,a;n=this.nodes;for(var u=0,d=n.length;d>u;u++)r=n[u],o=e.nodeMaps.get(r),i=o.scopeName,s=o.binders[this.name].propName,a=e.scopes[i][s],-1===t.indexOf(a)&&Object.observe(a,function(t){return e.emit("binders.each.scopes."+i+"."+s+".changes",t)})},onScopeChanges:null,nodeUpdate:function(t){this.resolveNodeContents(e.nodeMap.get(t))},resolveNodeContents:function(t){var n,r,o,i,s,a,u,d,l,c;r=t.node,u=t.binders[this.name],o=document.createRange(),d=t.scopeName,l=u.propName,c=u.vpropName,a=e.scopes[d][l],o.selectNodeContents(r),o.deleteContents();for(var f in a){if(i=u.contents.cloneNode(!0),this.resolveBinders(i,f,e.scopes[d],l,c,!0),i.children.length)for(s=document.createTreeWalker(i,NodeFilter.SHOW_ELEMENT);s.nextNode();)n=s.currentNode,this.resolveBinders(n,f,e.scopes[d],l,c);r.appendChild(i)}},resolveBinders:function(t,n,r,o,i,s){var a,u;for(var d in e.binders)a=e.binders[d].attr,s&&a===this.attr||t.hasAttribute(a)&&(u=t.getAttribute(a),u===i&&(u=o+"."+n,t.setAttribute(a,u)),e.binders[d].nodeUpdate(t,r,u))}}}},function(e){"use strict";e.exports=function(e){return{__proto__:e.binders.scope.proto,name:"el",init:function(){var t=this;e.on("load",function(e){return t.load(e)},this)},nodeUpdate:function(t,n,r){var o,i,s,a;a=function(){return e.expr.parse(s,n,{filter:{resolveFn:!0,args:{node:t,nodeExpr:i,scopeExpr:s}}})},o=r.split(":"),o.length>=2?(i=o[0].trim(),s=o[1].trim(),e.util.propPath(t,i,a())):(s=r,a())}}}},function(e){"use strict";e.exports=function(e){return{__proto__:e.binders.scope.proto,name:"text",init:function(){var t=this;e.on("load",function(e){return t.load(e)},this)},nodeUpdate:function(t,n,r){e.dom(t).text(e.expr.parse(r,n,{filter:{resolveFn:!0}}))}}}},function(e){"use strict";e.exports=function(e){return{__proto__:e.binders.scope.proto,name:"html",init:function(){var t=this;e.on("load",function(e){return t.load(e)},this)},nodeUpdate:function(t,n,r){e.dom(t).html(e.expr.parse(r,n,{filter:{resolveFn:!0}}))}}}},function(e){"use strict";e.exports=function(e){var t=e.binders.scope.proto;return{name:"on",attr:e.opt.binder.prefix+"on",getNodes:t.getNodes,build:t.build,init:function(){var t=this;e.on("load",function(e){return t.load(e)},this),e.on("postLoad",function(e){return t.postLoad(e)},this)},load:function(t){var n=this;this.build(t,function(t){e.nodeMaps.addOnce({node:t.node,nodeScope:t.nodeScope,scopeName:t.scopeName}),e.nodeMaps.setBinder(t.node,n,t.expr)})},postLoad:function(t){var n,r,o,i;o=this.getNodes(t,!0);for(var s=0,a=o.length;a>s;s++)i=o[s],n=e.nodeMaps.get(i),r=n.binders[this.name].expr.split(":"),e.dom(i).on(r[0].trim(),e.scopes[n.scopeName][r[1].trim()])}}}}]);